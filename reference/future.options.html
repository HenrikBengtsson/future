<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Options used for futures — future.options • future</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Options used for futures — future.options" />
<meta property="og:description" content="Below are the R options and environment variables that are used by the
future package and packages enhancing it.

WARNING: Note that the names and the default values of these options may
change in future versions of the package.  Please use with care until
further notice." />
<meta property="og:image" content="https://future.futureverse.org/logo.png" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SB3EQSD9FR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SB3EQSD9FR');
</script>


<!-- dependencies from examples -->


  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">future</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.21.0-9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/future-1-overview.html">A Future for R: A Comprehensive Overview</a>
    </li>
    <li>
      <a href="../articles/future-2-output.html">A Future for R: Text and Message Output</a>
    </li>
    <li>
      <a href="../articles/future-3-topologies.html">A Future for R: Future Topologies</a>
    </li>
    <li>
      <a href="../articles/future-4-issues.html">A Future for R: Common Issues with Solutions</a>
    </li>
    <li>
      <a href="../articles/future-4-non-exportable-objects.html">A Future for R: Non-Exportable Objects</a>
    </li>
    <li>
      <a href="../articles/future-5-startup.html">A Future for R: Controlling Default Future Strategy</a>
    </li>
    <li>
      <a href="../articles/future-6-future-api-backend-specification.html">A Future for R: Future API Backend Specification</a>
    </li>
    <li>
      <a href="../articles/future-7-for-package-developers.html">A Future for R: Best Practices for Package Developers</a>
    </li>
    <li>
      <a href="../articles/future-8-how-future-is-validated.html">A Future for R: How the Future Framework is Validated</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/HenrikBengtsson/future/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Options used for futures</h1>
    <small class="dont-index">Source: <a href='https://github.com/HenrikBengtsson/future/blob/master/R/options.R'><code>R/options.R</code></a></small>
    <div class="hidden name"><code>future.options.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Below are the <span style="R">R</span> options and environment variables that are used by the
<span class="pkg">future</span> package and packages enhancing it.<br />
<br />
<em>WARNING: Note that the names and the default values of these options may
change in future versions of the package.  Please use with care until
further notice.</em></p>
    </div>



    <h2 class="hasAnchor" id="settings-moved-to-the-parallelly-package"><a class="anchor" href="#settings-moved-to-the-parallelly-package"></a>Settings moved to the 'parallelly' package</h2>

    

<p>Several functions have been moved to the <span class="pkg">parallelly</span> package:</p><ul>
<li><p><code><a href='https://rdrr.io/pkg/parallelly/man/availableCores.html'>parallelly::availableCores()</a></code></p></li>
<li><p><code><a href='https://rdrr.io/pkg/parallelly/man/availableWorkers.html'>parallelly::availableWorkers()</a></code></p></li>
<li><p><code><a href='https://rdrr.io/pkg/parallelly/man/makeClusterMPI.html'>parallelly::makeClusterMPI()</a></code></p></li>
<li><p><code><a href='https://rdrr.io/pkg/parallelly/man/makeClusterPSOCK.html'>parallelly::makeClusterPSOCK()</a></code></p></li>
<li><p><code><a href='https://rdrr.io/pkg/parallelly/man/makeClusterPSOCK.html'>parallelly::makeNodePSOCK()</a></code></p></li>
<li><p><code><a href='https://rdrr.io/pkg/parallelly/man/supportsMulticore.html'>parallelly::supportsMulticore()</a></code></p></li>
</ul>

<p>The options and environment variables controlling those have been adjusted
accordingly to have different prefixes.
For example, option <span class="option">future.fork.enable</span> has been renamed to
<span class="option">parallelly.fork.enable</span> and the corresponding environment variable
<code class="env">R_FUTURE_FORK_ENABLE</code> has been renamed to
<code class="env">R_PARALLELLY_FORK_ENABLE</code>.
For backward compatibility reasons, the <span class="pkg">parallelly</span> package will
support both versions for a long foreseeable time.
See the <a href='https://rdrr.io/pkg/parallelly/man/parallelly.options.html'>parallelly::parallelly.options</a> page for the settings.</p>
    <h2 class="hasAnchor" id="options-for-controlling-futures"><a class="anchor" href="#options-for-controlling-futures"></a>Options for controlling futures</h2>

    

<dl>
<dt><span class="option">future.plan</span>:</dt><dd><p>(character string or future function) Default future strategy plan used unless otherwise specified via <code><a href='plan.html'>plan()</a></code>. This will also be the future plan set when calling <code><a href='plan.html'>plan("default")</a></code>.  If not specified, this option may be set when the <span class="pkg">future</span> package is <em>loaded</em> if command-line option <code>--parallel=ncores</code> (short <code>-p ncores</code>) is specified; if <code>ncores &gt; 1</code>, then option <span class="option">future.plan</span> is set to <code>multisession</code> otherwise <code>sequential</code> (in addition to option <span class="option">mc.cores</span> being set to <code>ncores</code>, if <code>ncores &gt;= 1</code>). (Default: <code>sequential</code>)</p></dd>

<dt><span class="option">future.globals.maxSize</span>:</dt><dd><p>(numeric) Maximum allowed total size (in bytes) of global variables identified. Used to prevent too large exports. If set of <code>+Inf</code>, then the check for large globals is skipped. (Default: <code>500 * 1024 ^ 2</code> = 500 MiB)</p></dd>

<dt><span class="option">future.globals.onReference</span>: (<em>beta feature - may change</em>)</dt><dd><p>(character string) Controls whether the identified globals should be scanned for so called <em>references</em> (e.g. external pointers and connections) or not.  It is unlikely that another <span style="R">R</span> process ("worker") can use a global that uses a internal reference of the master <span style="R">R</span> process - we call such objects <em>non-exportable globals</em>.
If this option is <code>"error"</code>, an informative error message is produced if a non-exportable global is detected.
If <code>"warning"</code>, a warning is produced, but the processing will continue; it is likely that the future will be resolved with a run-time error unless processed in the master <span style="R">R</span> process (e.g. <code><a href='plan.html'>plan(sequential)</a></code> and <code><a href='plan.html'>plan(multicore)</a></code>).
If <code>"ignore"</code>, no scan is performed.
(Default: <code>"ignore"</code> but may change)</p></dd>

<dt><span class="option">future.resolve.recursive</span>:</dt><dd><p>(integer) An integer specifying the maximum recursive depth to which futures should be resolved. If negative, nothing is resolved.  If <code>0</code>, only the future itself is resolved.  If <code>1</code>, the future and any of its elements that are futures are resolved, and so on. If <code>+Inf</code>, infinite search depth is used. (Default: <code>0</code>)</p></dd>

<dt><span class="option">future.rng.onMisuse</span>: (<em>beta feature - may change</em>)</dt><dd><p>(character string) If random numbers are used in futures, then parallel (L'Ecuyer-CMRG) RNG should be used in order to get statistical sound RNGs. The defaults in the future framework assume that <em>no</em> random number generation (RNG) is taken place in the future expression because L'Ecuyer-CMRG RNGs come with an unnecessary overhead if not needed.  To protect against mistakes, the future framework attempts to detect when random numbers are used despite L'Ecuyer-CMRG RNGs are not in place.  If this is detected, and <code>future.rng.onMisuse = "error"</code>, then an informative error message is produced.  If <code>"warning"</code>, then a warning message is produced.  If <code>"ignore"</code>, no check is performed. (Default: <code>"warning"</code>)</p></dd>

<dt><span class="option">future.wait.timeout</span>:</dt><dd><p>(numeric) Maximum waiting time (in seconds) for a free worker before a timeout error is generated. (Default: <code>30 * 24 * 60 * 60</code> (= 30 days))</p></dd>

<dt><span class="option">future.wait.interval</span>:</dt><dd><p>(numeric) Initial interval (in seconds) between polls. (Default: <code>0.2</code> = 0.2 seconds)</p></dd>

<dt><span class="option">future.wait.alpha</span>:</dt><dd><p>(numeric) Positive scale factor used to increase the interval after each poll. (Default: <code>1.01</code>)</p></dd>

</dl>

    <h2 class="hasAnchor" id="options-for-debugging-futures"><a class="anchor" href="#options-for-debugging-futures"></a>Options for debugging futures</h2>

    

<dl>
<dt><span class="option">future.debug</span>:</dt><dd><p>(logical) If <code>TRUE</code>, extensive debug messages are generated. (Default: <code>FALSE</code>)</p></dd>

</dl>

    <h2 class="hasAnchor" id="options-for-controlling-package-startup"><a class="anchor" href="#options-for-controlling-package-startup"></a>Options for controlling package startup</h2>

    

<dl>
<dt><span class="option">future.startup.script</span>:</dt><dd><p>(character vector or a logical) Specifies zero of more future startup scripts to be sourced when the <span class="pkg">future</span> package is <em>attached</em>. It is only the first existing script that is sourced. If none of the specified files exist, nothing is sourced - there will be neither a warning nor an error.
If this option is not specified, environment variable <code class="env">R_FUTURE_STARTUP_SCRIPT</code> is considered, where multiple scripts may be separated by either a colon (<code><a href='https://rdrr.io/r/base/Colon.html'>:</a></code>) or a semicolon (<code>;</code>). If neither is set, or either is set to <code>TRUE</code>, the default is to look for a <code class="file">.future.R</code> script in the current directory and then in the user's home directory.  To disable future startup scripts, set the option or the environment variable to <code>FALSE</code>.  <em>Importantly</em>, this option is <em>always</em> set to <code>FALSE</code> if the <span class="pkg">future</span> package is loaded as part of a future expression being evaluated, e.g. in a background process. In order words, they are sourced in the main <span style="R">R</span> process but not in future processes. (Default: <code>TRUE</code> in main <span style="R">R</span> process and <code>FALSE</code> in future processes / during future evaluation)</p></dd>

<dt><span class="option">future.cmdargs</span>:</dt><dd><p>(character vector) Overrides <code><a href='https://rdrr.io/r/base/commandArgs.html'>commandArgs</a>()</code> when the <span class="pkg">future</span> package is <em>loaded</em>.</p></dd>

</dl>

    <h2 class="hasAnchor" id="options-for-configuring-low-level-system-behaviors"><a class="anchor" href="#options-for-configuring-low-level-system-behaviors"></a>Options for configuring low-level system behaviors</h2>

    


<dl>
<dt><span class="option">future.fork.multithreading.enable</span> (<em>beta feature - may change</em>):</dt><dd><p>(logical) Enable or disable <em>multi-threading</em> while using <em>forked</em> parallel processing.  If <code>FALSE</code>, different multi-thread library settings are overridden such that they run in single-thread mode, which requires that the <span class="pkg">RhpcBLASctl</span> package is installed. If <code>TRUE</code>, or not set (the default), multi-threading is allowed.  Parallelization via multi-threaded processing (done in native code by some packages and external libraries) while at the same time using forked (aka "multicore") parallel processing is known to unstable.  Note that this is not only true when using <code><a href='plan.html'>plan(multicore)</a></code> but also when using, for instance, <code>mclapply()</code> of the <span class="pkg">parallel</span> package. (Default: not set)</p></dd>

</dl>

<p>See also <a href='https://rdrr.io/pkg/parallelly/man/parallelly.options.html'>parallelly::parallelly.options</a>.</p>
    <h2 class="hasAnchor" id="options-for-demos"><a class="anchor" href="#options-for-demos"></a>Options for demos</h2>

    

<dl>
<dt><span class="option">future.demo.mandelbrot.region</span>:</dt><dd><p>(integer) Either a named list of <code><a href='mandelbrot.html'>mandelbrot()</a></code> arguments or an integer in {1, 2, 3} specifying a predefined Mandelbrot region. (Default: <code>1L</code>)</p></dd>

<dt><span class="option">future.demo.mandelbrot.nrow</span>:</dt><dd><p>(integer) Number of rows and columns of tiles. (Default: <code>3L</code>)</p></dd>

</dl>

    <h2 class="hasAnchor" id="deprecated-or-for-internal-prototyping"><a class="anchor" href="#deprecated-or-for-internal-prototyping"></a>Deprecated or for internal prototyping</h2>

    


<p>The following options exists only for troubleshooting purposes and must not
be used in production.  If used, there is a risk that the results are
non-reproducible if processed elsewhere.  To lower the risk of them being
used by mistake, they are marked as deprecated and will produce warnings
if set.</p>
<dl>
<dt><span class="option">future.globals.onMissing</span>:</dt><dd><p>(character string) Action to take when non-existing global variables ("globals" or "unknowns") are identified when the future is created.  If <code>"error"</code>, an error is generated immediately.  If <code>"ignore"</code>, no action is taken and an attempt to evaluate the future expression will be made.  The latter is useful when there is a risk for false-positive globals being identified, e.g. when future expression contains non-standard evaluation (NSE).  (Default: <code>"ignore"</code>)</p></dd>

<dt><span class="option">future.globals.method</span>:</dt><dd><p>(character string) Method used to identify globals. For details, see <code><a href='https://rdrr.io/pkg/globals/man/globalsOf.html'>globalsOf</a>()</code>. (Default: <code>"ordered"</code>)</p></dd>

<dt><span class="option">future.globals.resolve</span>:</dt><dd><p>(logical) If <code>TRUE</code>, globals that are <code><a href='Future-class.html'>Future</a></code> objects (typically created as <em>explicit</em> futures) will be resolved and have their values (using <code><a href='value.html'>value()</a></code>) collected.  Because searching for unresolved futures among globals (including their content) can be expensive, the default is not to do it and instead leave it to the run-time checks that assert proper ownership when resolving futures and collecting their values. (Default: <code>FALSE</code>)</p></dd>

</dl>

    <h2 class="hasAnchor" id="environment-variables-that-set-r-options"><a class="anchor" href="#environment-variables-that-set-r-options"></a>Environment variables that set R options</h2>

    

<p>All of the above <span style="R">R</span> <span class="option">future.*</span> options can be set by corresponding
environment variable <code class="env">R_FUTURE_*</code> <em>when the <span class="pkg">future</span> package is
loaded</em>.
For example, if <code>R_FUTURE_RNG_ONMISUSE = "ignore"</code>, then option
<span class="option">future.rng.onMisuse</span> is set to <code>"ignore"</code> (character string).
Similarly, if <code>R_FUTURE_GLOBALS_MAXSIZE = "50000000"</code>, then option
<span class="option">future.globals.maxSize</span> is set to <code>50000000</code> (numeric).</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>To set <span style="R">R</span> options or environment variables when <span style="R">R</span> starts (even before the <span class="pkg">future</span> package is loaded), see the <a href='https://rdrr.io/r/base/Startup.html'>Startup</a> help page.  The <a href='https://cran.r-project.org/package=startup'><span class="pkg">startup</span></a> package provides a friendly mechanism for configurating <span style="R">R</span>'s startup process.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Allow at most 5 MB globals per futures</span>
<span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span>future.globals.maxSize <span class='op'>=</span> <span class='fl'>5e6</span><span class='op'>)</span>

<span class='co'># Be strict; catch all RNG mistakes</span>
<span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span>future.rng.onMisuse <span class='op'>=</span> <span class='st'>"error"</span><span class='op'>)</span>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Henrik Bengtsson.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p> and <a href="https://github.com/HenrikBengtsson/pkgdown.extras/">pkgdown.extras</a> 0.0.0.9000.</p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


